<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      .hide {
        display: none;
      }
    </style>
  </head>
  <body>
    <div>hdcms</div>
    <div>houdunren</div>

    <script>
      /*
       *1. [...展开语法]
       *2.
       */

      // 案例1: 展开语法进行浅拷贝
      let arr = [1, 3, 4, 5, 1, { name: "liuxiaohai" }];
      let newArr = [...arr];
      // 改变newArr里面数引用类型，但会改变arr的值，说明是浅拷贝
      newArr[newArr.length - 1].name = "maoshuang";

      console.log(newArr); // [1, 3, 4, 5, 1, { name: "liuxiaohai" }]
      console.log(arr); // [1, 3, 4, 5, 1, { name: "liuxiaohai" }]

      // 案例2: 利用展开语法对dom类数组进行处理
      let divs = document.querySelectorAll("div");
      console.log([...divs]); // 转换为真数组了，可以使用数组的方法
      [...divs].map(function (div) {
        div.addEventListener("click", function () {
          console.log(this); // function this可以获取到当前元素，箭头函数不行
          this.classList.toggle("hide");
        });
      });

      // 案例3: 展开语法数组合并，比concat更简单 。。。可以将将数组张开多个值
      let a = [1, 2, 3];
      let b = [4, 5, 6, ...a];
      console.log(b); // [4, 5, 6, 1, 2, 3]

      // 案例4: 使用展开语法可以替代 arguments来接受任意数量的参数
      function hd([...args]) {
        console.log(args, "args"); // [1,2,3,4]
      }
      hd([1, 2, 3, 4]);
    </script>
  </body>
</html>
